拿着简历，从专业技能开始，一条一条过……
与实际项目结合的部分……（太弱，需要强化）
历时：14:00到15:40


1. 

问：你了解哪些JVM的底层原理？
答：运行时内存区域，GC，内存模型

内存模型篇

问：你了解内存模型哪些东西？
答：主存，工作内存……balabala
问：会有什么问题
答：线程安全
问：怎么解决
答：volatile，synchronized
问：两者的区别
答：balabala，volatile怎么怎么不安全，只能保持可见性，但在i++时，怎么怎么不安全了，synchronized能保证，如何如何
问：你说的太多了，只需要回答volatile能保证可见性，synchronized还能保证原子性，有序性
问：项目中有用到volatile和synchronized么？


GC篇

问：JVM还了解什么？讲讲GC
答：有三种算法，标记整理-清除，复制，标记-整理，分代算法；
问：你这都没说清楚，分代收集说的太模糊，分代收集里面标记清除，标记整理都能用，具体哪个代用哪种？
答：年轻代和老年代和……永久代？ 年轻代用的是标记-整理算法（此处说错了，年轻代用的是复制算法）


知识点：年轻代用的是copying复制算法，老年代用的是标记-清除或标记整理算法

问：年轻代的eden和survivor为什么是8:1
答：因为它生命期比较短，大部分经过1次gc之后就都死亡了，剩下的比较少
问：如果新生代放不下，会放到老年代么
答：会，因为有保障机制
问：标记-清除算法的坏处
答：效率低，产生内存碎片
问：老年代为什么要用标记－清除？既然它会产生内存碎片？
答：……

知识点 ：（因为没有分配保障了？！，所以只能进行标记清除或者整理了？待考察）

问：了解垃圾回收器么？
答：知道CMS和G1
问：你们项目用的是什么？
答：默认的应该都是CMS，没改过
问：默认的不是CMS
答：额……
问：知道垃圾回收的那些参数怎么配置的么？
答：堆是xmx，xms，栈xss……

集合篇

问：说说java里面的集合吧，常用的有哪些
答：ArrayList，LinkedList，HashMap
问：知道Map和Set的区别么
答：map是在数组里面嵌套了个链表，set是线性表
问：你说的不对，set不是线性表，set是用map实现的
答：哦……
问：你常用的Map还有哪些类型，Map接口下都有哪些实现？
答：HashMap，LinkedHashMap，TreeMap
问：有什么区别
答：HashMap无序，LinkedHashMap按插入顺序，TreeMap按key的顺序

知识点：LinkedHashMap就是按的插入顺序，TreeMap按的是key的升序，或自定义的key的比较器
知识点：Map接口下还有很多实现类，比如HashTable，ConcurrentHashMap，可以扩展到线程安全的部分问很多问题，分段锁之类的

问：那讲讲HashMap吧，说说你知道的
答：map是里面有个table的数组，数组里面放的是Entry节点，类似一个链表，有pre和next节点，所以就是一个数组里面套了个链表。map里面有加载因子，当size/table.length大于加载因子时，map就要扩容，扩容的时候，扩容完要把原来table里面的东西全部复制到新的table里面去，先对table.length求余，找到index，再往entry里面插入，每次都是在头部插入……额……没了
问：你就说说，如果有个Student的类，让你往map里面放，你给我讲讲整个流程，怎么找到位置，怎么插入的？
问：就是一个学生类，你往Map里面放的时候，怎么确定唯一性的？
答：用id或者学号当做key，然后……
问：你说的这不对，那每个Student都要有一个key么。Object里面有个hashcode函数你知道吧，每个实体都可以用hashcode方法生成哈希值，然后对table的长度取余，找到是哪个链表，然后怎么再怎么找到这个Student？用什么方法？
答：额……用学生的getId，getName……哦！！！用equals方法！！（搞了半天原来是要问hashcode和equals方法……，我一直没get到点）

知识点：put函数里面，是要把key放进去的，key一般就是一个Student的属性才对，Value对应Student。然后在put方法内部，会调用HashMap的hash方法，这个方法内部，会用到 ，这个k就是put（key，value）里面的key，使用key的hashcode方法才对，Student作为value时，跟Student的hashcode没半毛钱关系……在Map.get（key）方法中，也是去拿key的hashCode方法，找到table里面的位置，再循环指定位置上面的Entry<K,V>链表， 当找到key和hash值完全一样的Entry时，才返回对应的entry，entry里面有K和V两个分别代表key和value，其实查找的全过程，跟value是什么一点关系也没有好吧……什么Student的hashCode，除非你是把Student当成key放进去……那当我没说。

问：HashMap扩容时是扩容多少？
答：看了源码应该是2倍…
问：为什么是2倍，你考虑过这个问题么
答：额……是因为……是因为table的size一定要是2的N次方才行，为了计算机进行位运算。有个公式，对一个2的N次方的数字取余时，等于跟它减一的值做与（&）运算balabala，这样速度回更快（这块可以区分hashtable，是用的%取余的数学计算，就比较慢）
问：你能把公式写下来么？
答：hashcode & （2^n -1）   

知识点：此处应该是HashMap的indexFor方法，根据hashcode的值找它在table中的位置的
 

多线程篇

问：讲讲多线程吧，我看你简历里面，项目经历部分有用到多线程，是你吧，本来想一会儿问项目再说的，现在一起说说吧。
答：是……

 
问：实现一个线程有几种方式？
答：继承Thread，实现Runnable

问：还有别的方式么？
答：还有创建一个线程池时，他会自动生成线程
问 ：谁告诉你的，你在哪本书上看的，昨天面试一个他也这么说，你们是都看了什么书么
答：额……看的java高并发程序设计……

知识点：创建线程的三种方式，第三种其实是 使用Callable和Future创建线程，好吧，我真不知道。https://www.cnblogs.com/3s540/p/7172146.html

问：你要怎么获取一个线程池，怎么写，传入什么参数？
答：额……

知识点：

问：线程池有几种？
答：有固定大小的，不固定大小的，只有一个的，缓存的，优先级的……
问：怎么控制的不同的类型？
答：用参数，底层用了好几个参数，队列和拒绝策略，队列可以是array实现或者list实现……（其实还有几个参数才对）

知识点：

问：那初始化一个线程池后，怎么去处理Task任务
答：额……让任务实现Runnable接口，在它的run方法里面，写上实现逻辑，传入线程池中

知识点：

问：构建完线程池后，怎么让线程开始运行？
答：额……
问：调用submit方法，为什么用submit不用execute知道么？
答：额……

知识点：

问：固定大小的线程池有什么缺点？
答：额……任务太多时处理不过来？
问：放入队列的速度和线程处理速度不一致是，可能会造成队列任务的阻塞。

（我去………………问到现在，只是把简历里面，技能部分的，第一条，问完而已！！！！）


 

设计模式篇
问：项目中都用到了哪些设计模式，举例说明
答：单例，生产者消费者，模板方法
问：单例用到了哪些
答：构建缓存类的时候，声明一个静态的instance变量
问：生产者消费者呢
答：就是刚说那个在队列里面处理同步数据的……
问：模板方法呢
答：导入excel时，声明一个模板类，定义几个固定的方法，用来解析不同版本的excel
问：每个里面都去实现这个接口里面的方法是吧
答：对……
问：那单例模式你还知道哪些地方用到么
答：spring里面的bean
问：单例有什么缺点知道么？
答：额……
问：单例是线程不安全的

数据库篇

 

数据库篇
问：你们数据库的数据量有多大
答：额……
问：说个最大的数吧
答：300万吧
问：如果让你删除这张表，你会怎么删除
答：truncate
问：不能用delete么？
答：delete太慢，要一条一条删
问：delete是一条条删的，太慢才不用是么？还有什么问题么
答：额……是……不知道……

知识点：

问：数据库索引知道么
答：b tree
问：b树还是b+树
答：额，我看innoDB是b+树
问：b树和b+树的区别
答：额……不知道
问：大学数据结构考多少分？知识都还给老师了是吧
答：额……
问：平常sql优化是怎么优化的，比如有一个什么语句，改成了什么，达到了什么速度的提升
答：额……left join改成union
问：没做过那种线上的大sql的优化是吧
答：额……一般都是结合程序一起优化的……

sql优化其实还有很多可以问

 

问：SSH里面都是指的什么
答：Spring，Struts，Hibernate
问：Struts和SpringMVC的区别
答：额……没咋用过Struts
问：Spring了解多少
答：就是IOC和AOP的那些
问：Spring本质上是做什么的
答：额……生产类？


 
问：熟悉计算机网络知识，知道http协议么
答：额……http报文么（我好心虚）
问：讲讲get和post的区别
答：get是传参数，获取东西，post是提交东西
问：post的参数在url中可见么
答：不能，get的参数在url中能看到，post是封装到报文的body里面的
问：知道三次握手么


 
问：ElasticSearch了解多少
答：倒排索引
问：怎么用的es
答：拿到一个json数据，分词，存入es
问：分词怎么分的
答：配置的分词器
问：怎么配的
答：配置文件里面有
问：怎么换分词器
答：没换过，用的默认的
问：默认的？你们导入的是中文吧，默认的能分词么？
答：额……用的好像是个搜狗的词库
问：就是虽然你没改过，但实际上里面是配置好的，有人把这个工作做了是吧
答：额……
问：用过Hbase么
答：没用过

 
问：用过Redis吧
答：没用过
问：zk了解多少



项目篇

  
问：接口调用时怎么调用的，内部接口还是外部接口
答：内部的
问：能看到对方代码么
答：不能
问：还有别的接口调用方式么
答：额……webService
问：webService有什么特点，原理


 

问：Es的term和match的区别
问：怎么连的es，restful，还是transport
答：项目里面直接集成的
问：怎么集成的，怎么建立的连接
答：有个client客户端
问：就是问客户端怎么连的，transport？还是一个单独的节点
答：作为单独节点…
问：回去看看吧，肯定不会是单独节点，单独节点是会对集群造成影响的！


程序篇

问：写个程序吧，合并两个有序链表，记住，是有条件的，两个有序链表


工作经历篇

 
问：再问个问题。看了下简历，说攻克技术难题，有什么难题，说来听听









